{"version":3,"sources":["../server/server.js"],"names":["PORT","process","env","GITHUB_TOKEN","GITHUB_ORGANIZATION","app","use","json","get","req","res","githubOrgStats","then","send","result","static","join","__dirname","sendFile","resolve","server","createServer","listen","console","log"],"mappings":";;AAAA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AAEA;;;;;;AAEA,IAAMA,OAAOC,QAAQC,GAAR,CAAYF,IAAZ,IAAoB,IAAjC;AACA,IAAMG,eAAeF,QAAQC,GAAR,CAAYC,YAAjC;AACA,IAAMC,sBAAsBH,QAAQC,GAAR,CAAYE,mBAAZ,IAAmC,SAA/D;;AAEA,IAAMC,MAAM,yBACTC,GADS,CACL,4BADK,EAETA,GAFS,CAEL,6BAFK,EAGTA,GAHS,CAGL,sBAAO,MAAP,CAHK,EAITA,GAJS,CAIL,qBAAWC,IAAX,EAJK,CAAZ;;AAMAF,IAAIG,GAAJ,CAAQ,YAAR,EAAsB,UAACC,GAAD,EAAMC,GAAN,EAAc;AAClC,MAAMC,iBAAiB,6BAAmBR,YAAnB,EAAiCC,mBAAjC,CAAvB;AACAO,iBAAeH,GAAf,GAAqBI,IAArB,CAA0B;AAAA,WAAUF,IAAIG,IAAJ,CAASC,MAAT,CAAV;AAAA,GAA1B;AACD,CAHD;;AAKA;AACAT,IAAIC,GAAJ,CAAQ,GAAR,EAAa,kBAAQS,MAAR,CAAe,eAAKC,IAAL,CAAUC,SAAV,EAAqB,UAArB,CAAf,CAAb;AACAZ,IAAIG,GAAJ,CAAQ,IAAR,EAAc,UAACC,GAAD,EAAMC,GAAN,EAAc;AAC1BA,MAAIQ,QAAJ,CAAa,eAAKC,OAAL,CAAa,eAAKH,IAAL,CAAUC,SAAV,EAAqB,qBAArB,CAAb,CAAb;AACD,CAFD;;AAIA,IAAMG,SAAS,eAAKC,YAAL,CAAkBhB,GAAlB,CAAf;AACAe,OAAOE,MAAP,CAActB,IAAd;;AAEAuB,QAAQC,GAAR,yCAAkDxB,IAAlD","file":"server.js","sourcesContent":["import compression from 'compression';\nimport express from 'express';\nimport http from 'http';\nimport morgan from 'morgan';\nimport bodyParser from 'body-parser';\nimport cookieParser from 'cookie-parser';\nimport path from 'path';\n\nimport GithubOrgStats from 'github-org-stats';\n\nconst PORT = process.env.PORT || 8102;\nconst GITHUB_TOKEN = process.env.GITHUB_TOKEN;\nconst GITHUB_ORGANIZATION = process.env.GITHUB_ORGANIZATION || 'grommet';\n\nconst app = express()\n  .use(compression())\n  .use(cookieParser())\n  .use(morgan('tiny'))\n  .use(bodyParser.json());\n\napp.get('/api/stats', (req, res) => {\n  const githubOrgStats = new GithubOrgStats(GITHUB_TOKEN, GITHUB_ORGANIZATION);\n  githubOrgStats.get().then(result => res.send(result));\n});\n\n// UI\napp.use('/', express.static(path.join(__dirname, '/../dist')));\napp.get('/*', (req, res) => {\n  res.sendFile(path.resolve(path.join(__dirname, '/../dist/index.html')));\n});\n\nconst server = http.createServer(app);\nserver.listen(PORT);\n\nconsole.log(`Server started at http://localhost:${PORT}`);\n"]}